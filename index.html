<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Movemania FS – Fußballschule mit Haltung & Herz</title>
  <meta name="description" content="Movemania FS: Fußballschule (6–12) in der Region BS. Feriencamps, Trainingskurse, Ballschule. Jetzt anmelden." />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#ffffff;
      --ink:#0b1020;
      --muted:#5e6880;
      --line:#e6e8ee;

      --navy:#1e3366;
      --red:#d2182d;

      --max: 1120px;
      --radius: 0px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--ink);
      background:var(--bg);
    }
    a{color:inherit; text-decoration:none}
    .wrap{max-width:var(--max); margin:0 auto; padding:0 22px}

    /* Stylischer Punktmuster-Layer */
    .pattern{
      position:relative;
      isolation:isolate;
    }
    .pattern::before{
      content:"";
      position:absolute;
      inset:0;
      z-index:-1;
      background-image: radial-gradient(rgba(11,16,32,.075) 1px, transparent 1px);
      background-size: 22px 22px;
      background-position: 0 0;
      opacity:.9;
      pointer-events:none;
      -webkit-mask-image: linear-gradient(to bottom,
        transparent 0%,
        rgba(0,0,0,.9) 12%,
        rgba(0,0,0,1) 50%,
        rgba(0,0,0,.9) 88%,
        transparent 100%);
      mask-image: linear-gradient(to bottom,
        transparent 0%,
        rgba(0,0,0,.9) 12%,
        rgba(0,0,0,1) 50%,
        rgba(0,0,0,.9) 88%,
        transparent 100%);
    }

    .topbar{
      position:sticky; top:0; z-index:50;
      background:rgba(255,255,255,.92);
      backdrop-filter: blur(10px);
      border-bottom:1px solid var(--line);
    }
    .nav{
      display:flex; align-items:center; justify-content:space-between;
      padding:16px 0;
      gap:18px;
    }
    .brand{display:flex; align-items:flex-start; gap:14px;}
    .logo{
      width:46px; height:46px;
      border:1px solid var(--line);
      border-radius:50%;
      object-fit:cover;
      background:#fff;
      display:none;
    }
    .brandText b{display:block; font-weight:900; font-size:14px; letter-spacing:.02em}
    .brandText span{display:block; color:var(--muted); font-size:12px; margin-top:2px}

    .menu{
      display:flex; gap:26px; align-items:center;
      font-weight:900;
      letter-spacing:.18em;
      text-transform:uppercase;
      font-size:11px;
    }
    .menu a{
      color:rgba(11,16,32,.70);
      padding:10px 0;
      border-bottom:2px solid transparent;
    }
    .menu a:hover{color:var(--ink)}
    .menu a.active{color:var(--ink); border-bottom-color:var(--red);}

    /* HERO */
    .hero{
      padding:64px 0 34px;
      border-bottom:1px solid var(--line);
    }
    .heroInner{
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap:34px;
      align-items:center;
    }
    @media (max-width: 980px){
      .menu{display:none}
      .heroInner{grid-template-columns:1fr}
    }

    .heroTitle{
      margin:0 0 10px;
      font-weight:900;
      letter-spacing:-.02em;
      text-transform:uppercase;
      font-size: clamp(44px, 5.8vw, 68px);
      line-height: .95;
    }
    .heroText{
      margin:0;
      max-width:65ch;
      color:var(--muted);
      line-height:1.85;
      font-size:14px;
    }
    .btnRow{
      display:flex; gap:14px; flex-wrap:wrap;
      margin-top:18px;
    }
    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      min-height:44px;
      padding:0 18px;
      font-size:11px;
      font-weight:900;
      text-transform:uppercase;
      letter-spacing:.18em;
      border:1px solid var(--ink);
      background:transparent;
      border-radius:var(--radius);
      cursor:pointer;
      white-space:nowrap;
    }
    .btnRed{border-color:var(--red); color:var(--red);}
    .btnRed:hover{background:rgba(210,24,45,.06)}
    .btnBlue{border-color:var(--navy); background:var(--navy); color:#fff;}
    .btnBlue:hover{filter:brightness(.97)}
    .btnGhost{border-color:rgba(11,16,32,.35); color:var(--ink); background:#fff;}
    .btnGhost:hover{background:rgba(11,16,32,.03)}

    /* media frame */
    .mediaFrame{
      border:1px solid var(--line);
      background:#fff;
      min-height:280px;
      position:relative;
      overflow:hidden;
    }
    .mediaFrame iframe,
    .mediaFrame video{
      width:100%;
      height:100%;
      display:block;
      border:0;
    }
    .mediaPlaceholder{
      height:100%;
      display:grid; place-items:center;
      color:rgba(11,16,32,.45);
      font-weight:700;
      font-size:13px;
      padding:18px;
      text-align:center;
    }

    /* Consent overlay inside hero media */
    .consentBox{
      height:100%;
      display:grid;
      place-items:center;
      padding:20px;
      text-align:center;
      gap:10px;
      background:
        linear-gradient(to bottom, rgba(255,255,255,.96), rgba(255,255,255,.98));
    }
    .consentBox b{color:var(--ink)}
    .consentSmall{
      max-width:50ch;
      color:rgba(11,16,32,.58);
      line-height:1.7;
      font-size:12px;
    }
    .consentActions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:center;
      margin-top:6px;
    }

    /* Sections */
    .section{
      padding:30px 0;
      border-bottom:1px solid var(--line);
    }
    .section:last-of-type{border-bottom:none}
    .sectionTitle{
      margin:0 0 14px;
      font-weight:900;
      text-transform:uppercase;
      letter-spacing:-.01em;
      font-size:24px;
    }

    /* Cards */
    .cards{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:18px;
    }
    @media (max-width: 980px){
      .cards{grid-template-columns:1fr}
    }
    .card{
      border:1px solid var(--line);
      background:#fff;
      padding:18px 18px 16px;
      min-height:170px;
    }
    .card h3{
      margin:0 0 10px;
      font-weight:900;
      text-transform:uppercase;
      letter-spacing:-.01em;
      font-size:14px;
    }
    .card p{
      margin:0;
      color:var(--muted);
      line-height:1.85;
      font-size:13px;
      max-width:52ch;
    }
    .cardActions{
      margin-top:14px;
      display:flex; gap:10px; flex-wrap:wrap;
    }

    /* USP block */
    .usp{
      padding:62px 0 58px;
      border-bottom:1px solid var(--line);
      position:relative;
      overflow:hidden;
    }
    .uspHead{
      text-align:center;
      position:relative;
      padding:8px 0 28px;
    }
    .uspGhost{
      position:absolute;
      left:50%;
      top:28px;
      transform:translateX(-50%);
      font-weight:900;
      text-transform:uppercase;
      letter-spacing:.12em;
      font-size: clamp(92px, 11vw, 168px);
      color:rgba(11,16,32,.04);
      user-select:none;
      pointer-events:none;
      white-space:nowrap;
      z-index:1;
      line-height:1;
    }
    .uspKicker{
      margin:0 0 10px;
      color:rgba(11,16,32,.55);
      font-weight:900;
      text-transform:uppercase;
      letter-spacing:.22em;
      font-size:11px;
      position:relative;
      z-index:2;
    }
    .uspTitle{
      margin:0;
      font-weight:900;
      text-transform:uppercase;
      letter-spacing:-.01em;
      font-size: clamp(34px, 4.5vw, 48px);
      line-height:1.05;
      position:relative;
      z-index:2;
    }
    .uspGrid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:34px;
      text-align:center;
      margin-top:14px;
    }
    @media (max-width: 980px){
      .uspGrid{grid-template-columns:1fr; gap:22px}
      .uspGhost{top:18px}
    }

    .uspIcon{
      width:120px; height:120px;
      margin:0 auto 14px;
      display:grid;
      place-items:center;
      position:relative;
      border:1px solid var(--line);
      background:#fff;
    }
    .uspIcon img{
      width:100%;
      height:100%;
      object-fit:contain;
      padding:18px;
      display:block;
    }
    .uspIcon .ph{
      font-size:11px;
      font-weight:900;
      letter-spacing:.18em;
      text-transform:uppercase;
      color:rgba(11,16,32,.45);
    }

    .uspItem h3{
      margin:0 0 8px;
      font-weight:900;
      text-transform:uppercase;
      font-size:14px;
      letter-spacing:.02em;
    }
    .uspItem p{
      margin:0;
      color:rgba(11,16,32,.45);
      line-height:1.8;
      font-size:13px;
      max-width:36ch;
      margin-left:auto;
      margin-right:auto;
    }

    /* Gallery */
    .galleryGrid{
      display:grid;
      grid-template-columns: 2fr 1fr;
      gap:18px;
      align-items:stretch;
    }
    @media (max-width: 980px){
      .galleryGrid{grid-template-columns:1fr}
    }
    .gCol{
      display:grid;
      grid-template-columns: repeat(2, 1fr);
      gap:18px;
    }
    @media (max-width: 980px){
      .gCol{grid-template-columns:1fr}
    }
    .frame{
      border:1px solid var(--line);
      background:#fff;
      overflow:hidden;
      min-height:190px;
    }
    .frame img{width:100%; height:100%; object-fit:cover; display:block;}

    .kontaktRow{
      display:flex; gap:14px; flex-wrap:wrap;
      padding-top:6px;
    }

    footer{
      padding:28px 0 44px;
      border-top:1px solid var(--line);
      color:var(--muted);
      font-size:12px;
    }

    .skeleton{
      background: linear-gradient(90deg, rgba(11,16,32,.05), rgba(11,16,32,.02), rgba(11,16,32,.05));
      background-size: 200% 100%;
      animation: shimmer 1.2s infinite;
      border-radius: 4px;
      display:inline-block;
    }
    @keyframes shimmer{
      0%{background-position: 200% 0}
      100%{background-position: -200% 0}
    }

    /* Cookie banner (minimal, clean) */
    .cookieBar{
      position:fixed;
      left:16px;
      right:16px;
      bottom:16px;
      z-index:9999;
      border:1px solid var(--line);
      background:rgba(255,255,255,.96);
      backdrop-filter: blur(10px);
      padding:14px 14px 12px;
      display:none;
    }
    .cookieInner{
      max-width:var(--max);
      margin:0 auto;
      display:flex;
      gap:12px;
      align-items:flex-start;
      justify-content:space-between;
      flex-wrap:wrap;
    }
    .cookieText{
      max-width:72ch;
      color:rgba(11,16,32,.62);
      font-size:12px;
      line-height:1.6;
    }
    .cookieText b{color:var(--ink)}
    .cookieActions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }
  </style>
</head>

<body>

<header class="topbar">
  <div class="wrap">
    <div class="nav">
      <div class="brand">
        <img class="logo" id="logoImg" src="assets/img/logo.png" alt="Movemania FS Logo"
             onerror="this.style.display='none';" />
        <div class="brandText">
          <b>Movemania FS</b>
          <span>Fußballschule · Region BS</span>
        </div>
      </div>

      <nav class="menu" aria-label="Hauptnavigation">
        <a href="#home" class="active">Home</a>
        <a href="#angebote">Angebote</a>
        <a href="#vorteile">Vorteile</a>
        <a href="#galerie">Galerie</a>
        <a href="#kontakt">Kontakt</a>
      </nav>
    </div>
  </div>
</header>

<main id="home" class="pattern">

  <!-- HERO -->
  <section class="hero">
    <div class="wrap heroInner">
      <div>
        <h1 class="heroTitle" id="heroTitle">FERIENCAMPS &amp; KURSE</h1>

        <p class="heroText" id="heroText">
          <span class="skeleton" style="width:46ch;height:1em"></span><br>
          <span class="skeleton" style="width:34ch;height:1em;margin-top:8px"></span>
        </p>

        <div class="btnRow">
          <a class="btn btnRed" id="ctaBooking" href="#" target="_blank" rel="noreferrer">Jetzt anmelden</a>
          <a class="btn btnBlue" id="ctaCamps" href="#" target="_blank" rel="noreferrer">Feriencamps</a>
          <a class="btn btnGhost" id="ctaWA" href="#" target="_blank" rel="noreferrer">WA-Community</a>
        </div>
      </div>

      <!-- HERO MEDIA (Consent-gated embed) -->
      <div class="mediaFrame" id="heroMedia" aria-label="Video">
        <div class="mediaPlaceholder" id="heroMediaPlaceholder">
          Video lädt…
        </div>
      </div>
    </div>
  </section>

  <!-- ANGEBOTE -->
  <section id="angebote" class="section">
    <div class="wrap">
      <h2 class="sectionTitle">Angebote</h2>

      <div class="cards">
        <div class="card">
          <h3>Feriencamps</h3>
          <p>Abwechslungsreiche Trainingseinheiten, Spiele, warmes Mittagessen und jede Menge Spaß.</p>
          <div class="cardActions">
            <a class="btn btnRed" id="btnCamps" href="#" target="_blank" rel="noreferrer">Camps buchen</a>
          </div>
        </div>

        <div class="card">
          <h3>Powerkurse</h3>
          <p>Gezielte Technik- und Athletikeinheiten in kleinen Gruppen.</p>
          <div class="cardActions">
            <a class="btn btnGhost" id="btnPower1819" href="#" target="_blank" rel="noreferrer">Power 18/19</a>
            <a class="btn btnGhost" id="btnPower1617" href="#" target="_blank" rel="noreferrer">Power 16/17</a>
          </div>
        </div>

        <div class="card">
          <h3>Haltung &amp; Herz</h3>
          <p id="aboutText">
            <span class="skeleton" style="width:40ch;height:1em"></span><br>
            <span class="skeleton" style="width:30ch;height:1em;margin-top:8px"></span>
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- VORTEILE -->
  <section id="vorteile" class="usp">
    <div class="wrap">
      <div class="uspHead">
        <div class="uspGhost" id="uspGhost">WERTE</div>
        <p class="uspKicker" id="uspKicker">Gemeinsam zum Erfolg</p>
        <h2 class="uspTitle" id="uspTitle">Movemania Vorteile</h2>
      </div>

      <div class="uspGrid">
        <div class="uspItem">
          <div class="uspIcon">
            <img id="usp1Icon" alt="Vorteil 1 Icon" style="display:none" />
            <span class="ph" id="usp1IconPh">ICON</span>
          </div>
          <h3 id="usp1Title">Training mit System</h3>
          <p id="usp1Text">Abwechslungsreiche Einheiten mit klarer Struktur, Spielintelligenz und echter Weiterentwicklung.</p>
        </div>

        <div class="uspItem">
          <div class="uspIcon">
            <img id="usp2Icon" alt="Vorteil 2 Icon" style="display:none" />
            <span class="ph" id="usp2IconPh">ICON</span>
          </div>
          <h3 id="usp2Title">Haltung &amp; Herz</h3>
          <p id="usp2Text">Respekt, Teamgeist und Freude an Bewegung stehen bei uns immer im Mittelpunkt.</p>
        </div>

        <div class="uspItem">
          <div class="uspIcon">
            <img id="usp3Icon" alt="Vorteil 3 Icon" style="display:none" />
            <span class="ph" id="usp3IconPh">ICON</span>
          </div>
          <h3 id="usp3Title">Schnell &amp; unkompliziert</h3>
          <p id="usp3Text">Anmeldung online, klare Infos, gute Organisation – damit Eltern und Kids entspannt bleiben.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- GALERIE -->
  <section id="galerie" class="section">
    <div class="wrap">
      <h2 class="sectionTitle">Galerie</h2>

      <div class="galleryGrid">
        <div class="frame">
          <img src="assets/img/placeholder-1.jpg" alt="Galerie 1"
               onerror="this.remove(); this.parentElement.innerHTML='<div class=&quot;mediaPlaceholder&quot;>Platzhalter: <b>assets/img/placeholder-1.jpg</b></div>';">
        </div>

        <div class="gCol">
          <div class="frame">
            <img src="assets/img/placeholder-2.jpg" alt="Galerie 2"
                 onerror="this.remove(); this.parentElement.innerHTML='<div class=&quot;mediaPlaceholder&quot;>Platzhalter: <b>assets/img/placeholder-2.jpg</b></div>';">
          </div>
          <div class="frame">
            <img src="assets/img/placeholder-3.jpg" alt="Galerie 3"
                 onerror="this.remove(); this.parentElement.innerHTML='<div class=&quot;mediaPlaceholder&quot;>Platzhalter: <b>assets/img/placeholder-3.jpg</b></div>';">
          </div>
          <div class="frame">
            <img src="assets/img/placeholder-4.jpg" alt="Galerie 4"
                 onerror="this.remove(); this.parentElement.innerHTML='<div class=&quot;mediaPlaceholder&quot;>Platzhalter: <b>assets/img/placeholder-4.jpg</b></div>';">
          </div>
          <div class="frame">
            <img src="assets/img/placeholder-5.jpg" alt="Galerie 5"
                 onerror="this.remove(); this.parentElement.innerHTML='<div class=&quot;mediaPlaceholder&quot;>Platzhalter: <b>assets/img/placeholder-5.jpg</b></div>';">
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- KONTAKT -->
  <section id="kontakt" class="section">
    <div class="wrap">
      <h2 class="sectionTitle">Kontakt</h2>
      <div class="kontaktRow">
        <a class="btn btnRed" id="btnBooking" href="#" target="_blank" rel="noreferrer">Jetzt anmelden</a>
        <a class="btn btnBlue" id="btnIG" href="#" target="_blank" rel="noreferrer">Instagram</a>
      </div>
    </div>
  </section>

</main>

<footer>
  <div class="wrap">
    <b style="color:var(--ink)">Movemania FS</b><br>
    Fußballschule mit Haltung &amp; Herz
  </div>
</footer>

<!-- Minimal Cookie Banner -->
<div class="cookieBar" id="cookieBar" role="dialog" aria-live="polite" aria-label="Cookie-Einstellungen">
  <div class="cookieInner">
    <div class="cookieText">
      <b>Video & externe Inhalte</b><br>
      Für eingebettete Videos (z. B. YouTube/Vimeo) können Cookies und externe Inhalte geladen werden.
      Du kannst das Video auch ohne Zustimmung als Link öffnen.
    </div>
    <div class="cookieActions">
      <button class="btn btnGhost" id="cookieDecline" type="button">Ablehnen</button>
      <button class="btn btnBlue" id="cookieAccept" type="button">Akzeptieren</button>
    </div>
  </div>
</div>

<script>
  async function loadJSON(path){
    const res = await fetch(path, { cache: "no-store" });
    if (!res.ok) throw new Error("Failed to load " + path + " (" + res.status + ")");
    return await res.json();
  }

  function setIcon(imgId, phId, url){
    const img = document.getElementById(imgId);
    const ph = document.getElementById(phId);
    if (!img || !ph) return;
    if (!url) return;
    img.src = url;
    img.onload = () => { img.style.display = "block"; ph.style.display = "none"; };
    img.onerror = () => { img.style.display = "none"; ph.style.display = "inline"; };
  }

  // Consent state for external media (YouTube/Vimeo)
  const CONSENT_KEY = "movemania_external_media_consent"; // "yes" | "no" | null

  function getConsent(){
    return localStorage.getItem(CONSENT_KEY);
  }
  function setConsent(v){
    localStorage.setItem(CONSENT_KEY, v);
  }

  function showCookieBar(){
    const bar = document.getElementById("cookieBar");
    if (bar) bar.style.display = "block";
  }
  function hideCookieBar(){
    const bar = document.getElementById("cookieBar");
    if (bar) bar.style.display = "none";
  }

  function safeText(s){
    return String(s || "").replace(/[<>&"]/g, (c) => ({ "<":"&lt;", ">":"&gt;", "&":"&amp;", "\"":"&quot;" }[c]));
  }

  // Convert YouTube URL to privacy-friendly embed with autoplay muted.
  function normalizeYouTubeEmbed(url){
    if (!url) return "";

    const u = String(url).trim();

    // If already embed url
    // Examples:
    // https://www.youtube.com/embed/VIDEOID
    // https://www.youtube-nocookie.com/embed/VIDEOID
    let m = u.match(/(?:youtube(?:-nocookie)?\.com)\/embed\/([a-zA-Z0-9_-]+)/);
    if (m && m[1]) {
      const id = m[1];
      return `https://www.youtube-nocookie.com/embed/${id}?autoplay=1&mute=1&playsinline=1&rel=0&modestbranding=1`;
    }

    // youtu.be/VIDEOID
    m = u.match(/youtu\.be\/([a-zA-Z0-9_-]+)/);
    if (m && m[1]) {
      const id = m[1];
      return `https://www.youtube-nocookie.com/embed/${id}?autoplay=1&mute=1&playsinline=1&rel=0&modestbranding=1`;
    }

    // watch?v=VIDEOID
    m = u.match(/[?&]v=([a-zA-Z0-9_-]+)/);
    if (m && m[1]) {
      const id = m[1];
      return `https://www.youtube-nocookie.com/embed/${id}?autoplay=1&mute=1&playsinline=1&rel=0&modestbranding=1`;
    }

    return "";
  }

  function isVimeoEmbed(url){
    return /player\.vimeo\.com\/video\/\d+/i.test(url || "");
  }

  function buildVimeoAutoplayMuted(url){
    const u = String(url || "").trim();
    if (!isVimeoEmbed(u)) return "";
    // Vimeo supports autoplay & muted parameters
    const hasQ = u.includes("?");
    return u + (hasQ ? "&" : "?") + "autoplay=1&muted=1&title=0&byline=0&portrait=0";
  }

  function renderHeroMedia({ consent, fallbackUrl, embedUrl }){
    const heroMedia = document.getElementById("heroMedia");
    if (!heroMedia) return;

    const e = (embedUrl || "").trim();
    const isMp4 = /\.mp4(\?|$)/i.test(e);

    // If we have consent and embeddable: render iframe/video
    if (consent === "yes" && e) {
      if (isMp4) {
        heroMedia.innerHTML = `
          <video autoplay muted playsinline controls preload="metadata" poster="assets/img/hero.jpg">
            <source src="${safeText(e)}" type="video/mp4">
            Dein Browser unterstützt das Video-Tag nicht.
          </video>
        `;
        return;
      }

      // YouTube
      const yt = normalizeYouTubeEmbed(e);
      if (yt) {
        heroMedia.innerHTML = `
          <iframe
            src="${safeText(yt)}"
            title="Movemania FS Video"
            loading="lazy"
            referrerpolicy="strict-origin-when-cross-origin"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            allowfullscreen>
          </iframe>
        `;
        return;
      }

      // Vimeo
      const vimeo = buildVimeoAutoplayMuted(e);
      if (vimeo) {
        heroMedia.innerHTML = `
          <iframe
            src="${safeText(vimeo)}"
            title="Movemania FS Video"
            loading="lazy"
            referrerpolicy="strict-origin-when-cross-origin"
            allow="autoplay; fullscreen; picture-in-picture"
            allowfullscreen>
          </iframe>
        `;
        return;
      }

      // Unknown embed -> fallback to link
      heroMedia.innerHTML = `
        <a href="${safeText(fallbackUrl)}" target="_blank" rel="noreferrer" style="display:block;width:100%;height:100%">
          <div class="mediaPlaceholder">
            Video öffnen (Link)<br><br>
            <b>${safeText(fallbackUrl)}</b>
          </div>
        </a>
      `;
      return;
    }

    // No consent yet or no embed URL -> show consent box with options + fallback link
    heroMedia.innerHTML = `
      <div class="consentBox">
        <b>Video direkt auf der Seite ansehen</b>
        <div class="consentSmall">
          Um das Video einzubetten, müssen externe Inhalte (z. B. YouTube/Vimeo) geladen werden.
          Du kannst zustimmen und das Video wird sofort (ohne Ton) automatisch gestartet.
        </div>
        <div class="consentActions">
          <button class="btn btnBlue" type="button" id="heroConsentAccept">Akzeptieren & Video laden</button>
          <a class="btn btnGhost" href="${safeText(fallbackUrl)}" target="_blank" rel="noreferrer">Als Link öffnen</a>
        </div>
      </div>
    `;

    const btn = document.getElementById("heroConsentAccept");
    if (btn) {
      btn.addEventListener("click", () => {
        setConsent("yes");
        hideCookieBar();
        renderHeroMedia({ consent: "yes", fallbackUrl, embedUrl });
      });
    }

    // If no decision stored yet, show global cookie bar once
    if (!getConsent()) showCookieBar();
  }

  (async () => {
    const logo = document.getElementById("logoImg");
    if (logo) logo.style.display = "block";

    // Cookie bar events
    const acceptBtn = document.getElementById("cookieAccept");
    const declineBtn = document.getElementById("cookieDecline");

    if (acceptBtn) acceptBtn.addEventListener("click", () => { setConsent("yes"); hideCookieBar(); location.reload(); });
    if (declineBtn) declineBtn.addEventListener("click", () => { setConsent("no"); hideCookieBar(); });

    // LINKS
    let links = {};
    try { links = await loadJSON("/assets/content/links.json"); }
    catch (e) { console.warn("links.json fehlt oder nicht erreichbar:", e); }

    const setHref = (id, url) => {
      const el = document.getElementById(id);
      if (el && url) el.href = url;
    };

    setHref("ctaBooking", links.booking);
    setHref("ctaCamps", links.camps);
    setHref("ctaWA", links.whatsapp);

    setHref("btnBooking", links.booking);
    setHref("btnCamps", links.camps);
    setHref("btnPower1819", links.power1819);
    setHref("btnPower1617", links.power1617);
    setHref("btnIG", links.instagram);

    // HERO VIDEO: prefer hero_video_embed; fallback to hero_video (may be youtube link)
    const fallbackUrl = (links.hero_video || links.camps || links.booking || "#");
    const embedUrl = (links.hero_video_embed || links.hero_video || "").trim();

    // Render hero media respecting consent
    const consent = getConsent(); // "yes" | "no" | null
    renderHeroMedia({ consent, fallbackUrl, embedUrl });

    // TEXTE
    let texts = {};
    try { texts = await loadJSON("/assets/content/texts.json"); }
    catch (e) { console.warn("texts.json fehlt oder nicht erreichbar:", e); }

    const setText = (id, value) => {
      const el = document.getElementById(id);
      if (!el || !value) return;
      el.textContent = value;
    };

    setText("heroTitle", (texts.hero_title || "FERIENCAMPS & KURSE").toUpperCase());
    setText("heroText", texts.hero_text || "In unseren Feriencamps kommen bewegungsfreudige Kinder voll auf ihre Kosten.");
    setText("aboutText", texts.about_text || "Wir stehen für modernes Fußballtraining mit Haltung, Herz und Verantwortung.");

    setText("uspKicker", (texts.usp_kicker || "Gemeinsam zum Erfolg"));
    setText("uspTitle", (texts.usp_title || "Movemania Vorteile").toUpperCase());
    setText("uspGhost", (texts.usp_ghost || "WERTE").toUpperCase());

    setText("usp1Title", (texts.usp1_title || "Training mit System").toUpperCase());
    setText("usp1Text", (texts.usp1_text || "Abwechslungsreiche Einheiten mit klarer Struktur, Spielintelligenz und echter Weiterentwicklung."));
    setText("usp2Title", (texts.usp2_title || "Haltung & Herz").toUpperCase());
    setText("usp2Text", (texts.usp2_text || "Respekt, Teamgeist und Freude an Bewegung stehen bei uns immer im Mittelpunkt."));
    setText("usp3Title", (texts.usp3_title || "Schnell & unkompliziert").toUpperCase());
    setText("usp3Text", (texts.usp3_text || "Anmeldung online, klare Infos, gute Organisation – damit Eltern und Kids entspannt bleiben."));

    // ICONS from CMS (image widget)
    setIcon("usp1Icon", "usp1IconPh", texts.usp1_icon);
    setIcon("usp2Icon", "usp2IconPh", texts.usp2_icon);
    setIcon("usp3Icon", "usp3IconPh", texts.usp3_icon);

    // If user already decided, keep banner hidden.
    if (getConsent()) hideCookieBar();
  })();
</script>

<!-- Netlify Identity Token Catcher (wichtig für /admin Bestätigung/Recovery) -->
<script>
(function () {
  const hash = window.location.hash || "";
  if (
    hash.includes("confirmation_token=") ||
    hash.includes("invite_token=") ||
    hash.includes("recovery_token=")
  ) {
    window.location.replace("/admin/" + hash);
  }
})();
</script>

</body>
</html>





